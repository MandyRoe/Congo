

DECLARE @sql NVARCHAR(max)=''

SELECT @sql += ' Drop table ' + QUOTENAME(TABLE_SCHEMA) + '.'+ QUOTENAME(TABLE_NAME) + '; '
FROM   INFORMATION_SCHEMA.TABLES
WHERE  TABLE_TYPE = 'BASE TABLE'

Exec Sp_executesql @sql
/


DROP TABLE KUNDE CASCADE CONSTRAINTS ;
/

DROP TABLE LIEFERANT CASCADE CONSTRAINTS ;
/

DROP TABLE BESTELLUNG CASCADE CONSTRAINTS ;
/

DROP TABLE BESTELLINFO CASCADE CONSTRAINTS ;
/

DROP TABLE PRODUKT CASCADE CONSTRAINTS ;
/

DROP TABLE KATEGORIE CASCADE CONSTRAINTS ;
/

DROP TABLE HERSTELLER CASCADE CONSTRAINTS ;
/

DROP SEQUENCE kundennr_seq;
/ 

CREATE TABLE KUNDE (
  KUNDERNR 		NUMBER (10)    NOT NULL,
  NACHNAME 		VARCHAR2 (20),
  VORNAME 		VARCHAR2 (20),
  HAUSNUMMER		NUMBER (5),
  STRASSE 		VARCHAR2 (50),
  PLZ 			NUMBER (5),
  ORT 			VARCHAR2 (20),
  EMAIL 		VARCHAR2 (50),
  IBAN 			NUMBER (25),
  BLZ 			NUMBER (25),
  TELEFONNR 		NUMBER(25),
  PRIMARY KEY ( KUNDERNR ) 
  )
;

CREATE TABLE LIEFERANT (
  LIEFERANTENNR 	NUMBER (10)    NOT NULL,
  FIRMENNAME 		VARCHAR2 (25),
  EMAIL       		VARCHAR2 (25),
  TELEFONNR 		NUMBER(25),
  PRIMARY KEY ( LIEFERANTENNR )
  )
 ;

CREATE TABLE BESTELLUNG (
  BESTELLNR		NUMBER (10)    NOT NULL,
  DATUM			DATE ,
  PRIMARY KEY ( BESTELLNR )
  )
 ;

CREATE TABLE BESTELLINFO (
  BESTELLINFONR 	NUMBER (10)    NOT NULL,
  ANZAHL 		NUMBER (15) ,
  PRIMARY KEY ( BESTELLINFONR )
  )
 ;

CREATE TABLE PRODUKT (
  PRODUKTNR		NUMBER (25)    NOT NULL,
  PRODUKTNAME 		VARCHAR2 (25) ,
  PRODUKTPREIS 		NUMBER (10),
  MASSEINHEIT 		VARCHAR2 (10),
  PRIMARY KEY ( PRODUKTNR )
  )
 ;

CREATE TABLE KATEGORIE (
  KATEGORIENR 		NUMBER (25)    NOT NULL,
  KATEGORIENAME		VARCHAR2 (25) ,
  BESCHREIBUNG		VARCHAR2 (250),
  PRIMARY KEY ( KATEGORIENR )
  )
 ;

INSERT INTO KATEGORIE ( KATEGORIENR, KATEGORIENAME, BESCHREIBUNG) VALUES (
1, 'LEBENSMITTEL', 'FÃœR DIE MENSCHLICHE ERNAEHRUNG BESTIMMTES ERZEUGNIS');
INSERT INTO KATEGORIE ( KATEGORIENR, KATEGORIENAME, BESCHREIBUNG ) VALUES (
2, 'DROGERIE', 'HEILMITTEL, CHEMIKALIEN UND KOSMETISCHE ARTIKEL');
INSERT INTO KATEGORIE ( KATEGORIENR, KATEGORIENAME, BESCHREIBUNG ) VALUES (
3, 'SCHREIBWAREN', 'ZUM SCHREIBEN BENOETIGTE GEGENSTAENDE BZW. HANDELSWAREN');
INSERT INTO KATEGORIE ( KATEGORIENR, KATEGORIENAME, BESCHREIBUNG ) VALUES (
4, 'SPIELWAREN', 'SPIELZEUG FUER KINDER');
commit;
/


CREATE TABLE HERSTELLER (
  HERSTELLERNR		NUMBER (10)    NOT NULL,
  HERSTELLERNAME	VARCHAR2 (25),
  EMAIL 		VARCHAR2 (50),
  HAUSNUMMER		NUMBER (5),
  STRASSE 		VARCHAR2 (50),
  PLZ 			NUMBER (5),
  ORT 			VARCHAR2 (20),
  TELEFONNR 		NUMBER(25),
  PRIMARY KEY ( HERSTELLERNR) 
  )
;


CREATE SEQUENCE kundennr_seq
MINVALUE 1
MAXVALUE 99999999999999999999999999
START WITH 1
INCREMENT BY 1
CACHE 20;