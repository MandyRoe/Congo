DROP TABLE KUNDE CASCADE CONSTRAINTS ;
/

DROP TABLE LIEFERANT CASCADE CONSTRAINTS ;
/

DROP TABLE BESTELLUNG CASCADE CONSTRAINTS ;
/

DROP TABLE BESTELLINFO CASCADE CONSTRAINTS ;
/

DROP TABLE PRODUKT CASCADE CONSTRAINTS ;
/

DROP TABLE KATEGORIE CASCADE CONSTRAINTS ;
/

DROP TABLE HERSTELLER CASCADE CONSTRAINTS ;
/

DROP SEQUENCE kundennr_seq;
/ 

CREATE TABLE KUNDE (
  KUNDERNR 		NUMBER (10)    NOT NULL,
  NACHNAME 		VARCHAR2 (20),
  VORNAME 		VARCHAR2 (20),
  HAUSNUMMER		NUMBER (5),
  STRASSE 		VARCHAR2 (50),
  PLZ 			NUMBER (5),
  ORT 			VARCHAR2 (20),
  EMAIL 		VARCHAR2 (50),
  IBAN 			NUMBER (25),
  BLZ 			NUMBER (25),
  TELEFONNR 		NUMBER(25),
  PRIMARY KEY ( KUNDERNR ) 
  );
  
INSERT INTO KUNDE ( KUNDERNR, NACHNAME, VORNAME ) VALUES (1, 'Mustermann', 'Max');
commit;
/

CREATE TABLE KATEGORIE (
  KATEGORIENR 		NUMBER (25)    NOT NULL,
  KATEGORIENAME		VARCHAR2 (25) ,
  BESCHREIBUNG		VARCHAR2 (250),
  PRIMARY KEY ( KATEGORIENR )
  ) ;

INSERT INTO KATEGORIE ( KATEGORIENR, KATEGORIENAME, BESCHREIBUNG) VALUES (
1, 'LEBENSMITTEL', 'FÜR DIE MENSCHLICHE ERNAEHRUNG BESTIMMTES ERZEUGNIS');
INSERT INTO KATEGORIE ( KATEGORIENR, KATEGORIENAME, BESCHREIBUNG ) VALUES (
2, 'DROGERIE', 'HEILMITTEL, CHEMIKALIEN UND KOSMETISCHE ARTIKEL');
INSERT INTO KATEGORIE ( KATEGORIENR, KATEGORIENAME, BESCHREIBUNG ) VALUES (
3, 'SCHREIBWAREN', 'ZUM SCHREIBEN BENOETIGTE GEGENSTAENDE BZW. HANDELSWAREN');
INSERT INTO KATEGORIE ( KATEGORIENR, KATEGORIENAME, BESCHREIBUNG ) VALUES (
4, 'SPIELWAREN', 'SPIELZEUG FUER KINDER');
commit;
/


CREATE TABLE LIEFERANT (
  LIEFERANTENNR 	NUMBER (10)    NOT NULL,
  FIRMENNAME 		VARCHAR2 (25),
  EMAIL       		VARCHAR2 (25),
  TELEFONNR 		NUMBER(25),
  PRIMARY KEY ( LIEFERANTENNR )
  ) ;

INSERT INTO LIEFERANT ( LIEFERANTENNR, FIRMENNAME, EMAIL,  TELEFONNR ) VALUES (
1, 'DHL', 'DHL@INFO.DE', 025518695);
INSERT INTO LIEFERANT ( LIEFERANTENNR, FIRMENNAME, EMAIL,  TELEFONNR ) VALUES (
2, 'HERMES', 'HERMES@INFO.DE', 089152263);
commit;
/

CREATE TABLE BESTELLUNG (
  BESTELLNR		NUMBER (10)    NOT NULL,
  DATUM			DATE ,
  KUNDERNR      NUMBER,
  LIEFERANTENNR NUMBER,
  PRIMARY KEY ( BESTELLNR ),
  FOREIGN KEY (KUNDERNR) REFERENCES KUNDE(KUNDERNR),
  FOREIGN KEY (LIEFERANTENNR) REFERENCES LIEFERANT(LIEFERANTENNR)
  ) ;

INSERT INTO BESTELLUNG ( BESTELLNR, DATUM, KUNDERNR, LIEFERANTENNR) VALUES (
1, '12.07.2021' , 1, 1);
commit;
/

CREATE TABLE HERSTELLER (
  HERSTELLERNR		NUMBER (10)    NOT NULL,
  HERSTELLERNAME	VARCHAR2 (50),
  EMAIL 		VARCHAR2 (50),
  HAUSNUMMER		NUMBER (5),
  STRASSE 		VARCHAR2 (50),
  PLZ 			NUMBER (5),
  ORT 			VARCHAR2 (20),
  TELEFONNR 		NUMBER(25),
  PRIMARY KEY ( HERSTELLERNR) 
  )
;

INSERT INTO HERSTELLER ( HERSTELLERNR, HERSTELLERNAME, EMAIL,  HAUSNUMMER, STRASSE, PLZ, ORT, TELEFONNR) VALUES (
1, 'LEBENSMITTEL SCHMIDT', 'INFO@SCHMIDT.DE', 355, 'SOMMERWEG', 58221, 'BABENHAUSEN', 012345581);
INSERT INTO HERSTELLER ( HERSTELLERNR, HERSTELLERNAME, EMAIL,  HAUSNUMMER, STRASSE, PLZ, ORT, TELEFONNR) VALUES (
2, 'DROGERIE UND SPIELWAREN SUSI', 'SUSI@T-ONLINE.DE', 25, 'INDUSTRIESTRASSE', 59876, 'BLOCK', 012495581);
commit;
/


CREATE TABLE PRODUKT (
  PRODUKTNR		    NUMBER (25)    NOT NULL,
  PRODUKTNAME 		VARCHAR2 (25) ,
  PRODUKTPREIS 		NUMBER (10),
  MASSEINHEIT 		VARCHAR2 (10),
  KATEGORIENR       NUMBER,
  HERSTELLERNR      NUMBER,
  PRIMARY KEY ( PRODUKTNR ),
  FOREIGN KEY (KATEGORIENR) REFERENCES KATEGORIE(KATEGORIENR),
  FOREIGN KEY (HERSTELLERNR) REFERENCES HERSTELLER(HERSTELLERNR)
  ) ;
 

INSERT INTO PRODUKT ( PRODUKTNR, PRODUKTNAME, PRODUKTPREIS,  MASSEINHEIT, KATEGORIENR, HERSTELLERNR) VALUES (
1, 'SCHOKOLADE', 3.99, 'GRAMM', 1, 1);
INSERT INTO PRODUKT ( PRODUKTNR, PRODUKTNAME, PRODUKTPREIS,  MASSEINHEIT, KATEGORIENR,  HERSTELLERNR) VALUES (
2, 'ZAHNPASTA', 2.99, 'STÜCK', 2, 2);
INSERT INTO PRODUKT ( PRODUKTNR, PRODUKTNAME, PRODUKTPREIS,  MASSEINHEIT, KATEGORIENR, HERSTELLERNR ) VALUES (
3, 'BLEISTIFT', 1.99, 'STÜCK', 3, 1);
commit;
/


CREATE TABLE BESTELLINFO (
  BESTELLINFONR 	NUMBER (10)    NOT NULL,
  ANZAHL 		NUMBER (15) ,
  BESTELLNR     NUMBER,
  PRODUKTNR     NUMBER,
  PRIMARY KEY ( BESTELLINFONR ),
  FOREIGN KEY (BESTELLNR) REFERENCES BESTELLUNG(BESTELLNR),
  FOREIGN KEY (PRODUKTNR) REFERENCES PRODUKT(PRODUKTNR)
  ) ;

INSERT INTO BESTELLINFO ( BESTELLINFONR , ANZAHL , BESTELLNR, PRODUKTNR) VALUES (
1, 2, 1, 1);
commit;
/


CREATE SEQUENCE kundennr_seq
MINVALUE 1
MAXVALUE 99999999999999999999999999
START WITH 1
INCREMENT BY 1
CACHE 20;